{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4 text-center fw-bold text-primary">🍽️ Meal Management Committee</h2>

  <div class="row g-4">
    <!-- Dining Representatives -->
    {% if dr1 %}
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4 h-100">
        <div class="card-header bg-info text-white text-center rounded-top-4">
          <h4 class="mb-0">👨‍💼 Dining Representative</h4>
        </div>
        <div class="card-body text-center">
          <img src="{{ dr1.photo.url }}" class="rounded-circle shadow" width="100" height="100" alt="DR Photo">
          <h5 class="mt-3">{{ dr1.user.get_full_name }}</h5>
          <p class="mb-1">📘 Dept: {{ dr1.department }}</p>
          <p class="mb-1">🏠 Room: {{ dr1.room_number }}</p>
          <p class="mb-1">📞 Phone: {{ dr1.phone_number }}</p>
          <p class="mb-1">🍽️ Serial: {{ dr1.meal_serial }}</p>
          <p class="text-muted small">🕒 Duration: {{ dr1.start_date }} → {{ dr1.end_date }}</p>
        </div>
      </div>
    </div>
    {% endif %}

    {% if dr2 %}
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4 h-100">
        <div class="card-header bg-info text-white text-center rounded-top-4">
          <h4 class="mb-0">👨‍💼 Dining Representative</h4>
        </div>
        <div class="card-body text-center">
          <img src="{{ dr2.photo.url }}" class="rounded-circle shadow" width="100" height="100" alt="DR Photo">
          <h5 class="mt-3">{{ dr2.user.get_full_name }}</h5>
          <p class="mb-1">📘 Dept: {{ dr2.department }}</p>
          <p class="mb-1">🏠 Room: {{ dr2.room_number }}</p>
          <p class="mb-1">📞 Phone: {{ dr2.phone_number }}</p>
          <p class="mb-1">🍽️ Serial: {{ dr2.meal_serial }}</p>
          <p class="text-muted small">🕒 Duration: {{ dr2.start_date }} → {{ dr2.end_date }}</p>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Meal Managers -->
    {% if mm1 %}
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4 h-100">
        <div class="card-header bg-success text-white text-center rounded-top-4">
          <h4 class="mb-0">👨‍🍳 Meal Manager</h4>
        </div>
        <div class="card-body text-center">
          <img src="{{ mm1.photo.url }}" class="rounded-circle shadow" width="100" height="100" alt="Manager Photo">
          <h5 class="mt-3">{{ mm1.user.get_full_name }}</h5>
          <p class="mb-1">📘 Dept: {{ mm1.department }}</p>
          <p class="mb-1">🏠 Room: {{ mm1.room_number }}</p>
          <p class="mb-1">📞 Phone: {{ mm1.phone_number }}</p>
          <p class="mb-1">🍽️ Serial: {{ mm1.meal_serial }}</p>
          <p class="text-muted small">🕒 Duration: {{ mm1.start_date }} → {{ mm1.end_date }}</p>
        </div>
      </div>
    </div>
    {% endif %}

    {% if mm2 %}
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4 h-100">
        <div class="card-header bg-success text-white text-center rounded-top-4">
          <h4 class="mb-0">👨‍🍳 Meal Manager</h4>
        </div>
        <div class="card-body text-center">
          <img src="{{ mm2.photo.url }}" class="rounded-circle shadow" width="100" height="100" alt="Manager Photo">
          <h5 class="mt-3">{{ mm2.user.get_full_name }}</h5>
          <p class="mb-1">📘 Dept: {{ mm2.department }}</p>
          <p class="mb-1">🏠 Room: {{ mm2.room_number }}</p>
          <p class="mb-1">📞 Phone: {{ mm2.phone_number }}</p>
          <p class="mb-1">🍽️ Serial: {{ mm2.meal_serial }}</p>
          <p class="text-muted small">🕒 Duration: {{ mm2.start_date }} → {{ mm2.end_date }}</p>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
